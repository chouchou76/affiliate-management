<div class="toolbar">

  <ng-container *ngIf="kocList$ | async as list">
    <button class="btn" (click)="bulkCrawl(list)">Láº¥y dá»¯ liá»‡u hÃ ng loáº¡t</button>

    <input
      type="text"
      placeholder="ğŸ” TÃ¬m kÃªnh..."
      [(ngModel)]="searchText"
    />

    <button class="btn">ğŸ¯ Filter</button>
    <button class="btn">â†•ï¸ Sort</button>

    <table class="koc-table">
      <thead>
        <tr>
          <th>
            <input
              type="checkbox"
              [checked]="selectAll"
              (change)="toggleSelectAll(list)"
            />
          </th>
          <th>STT</th>
          <th>TÃªn KÃªnh</th>
          <th>Link KÃªnh</th>
          <th>TrÃ¹ng</th>
          <th>NhÃ¢n ViÃªn</th>
          <th>Quáº£n LÃ½</th>
          <th>NgÃ y TÃ¬m</th>
          <th>Cast</th>
          <th>Hoa Há»“ng</th>
          <th>Ghi ChÃº</th>
          <th>NhÃ£n</th>
          <th>Sáº£n Pháº©m</th>
          <th>Link Video</th>
          <th>ID Video</th>
          <th>NgÃ y Air</th>
          <th>Data Retrieval</th>
          <th>GMV</th>
          <th>Is Ad</th>
          <th>Views</th>
          <th>Likes</th>
          <th>Comments</th>
          <th>Shares</th>
          <th>Saves</th>
          <th>Status</th>
          <th>LiÃªn há»‡ láº¡i</th>
          <th>Action</th>
        </tr>
      </thead>

      <tbody>
        <tr
          *ngFor="let item of list; let i = index"
          [class.selected]="item.selected"
          [class.crawling]="item.crawlStatus === 'crawling'"
          [class.success]="item.crawlStatus === 'success'"
          [class.error]="item.crawlStatus === 'error'"
          (click)="toggleRow(item, list)"
        >
          <td>
            <input
              type="checkbox"
              [(ngModel)]="item.selected"
              [disabled]="item.crawlStatus === 'crawling'"
              (click)="$event.stopPropagation()"
            />
          </td>

          <td>{{ i + 1 }}</td>
          <td>{{ item.channelName }}</td>
          <td>
            <a [href]="item.linkChannel" target="_blank">
              {{ item.linkChannel }}
            </a>
          </td>
          <td>{{ item.isDuplicate ? 'TrÃ¹ng' : '' }}</td>
          <td>{{ item.staff }}</td>
          <td>{{ item.manager }}</td>
          <td>{{ item.dateFound }}</td>
          <td>{{ item.cast }}</td>
          <td>{{ item.commission }}</td>
          <td>{{ item.note }}</td>
          <td>{{ item.labels.join(', ') }}</td>
          <td>{{ item.products.join(', ') }}</td>
          <td>{{ item.videoLink }}</td>
          <td>{{ item.videoId }}</td>
          <td>{{ item.actualAirDate }}</td>
          <td>{{ item.dataRetrievalTime }}</td>
          <td>{{ item.gmv }}</td>
          <td>{{ item.isAd ? 'Yes' : 'No' }}</td>
          <td>{{ item.views | number }}</td>
          <td>{{ item.likes | number }}</td>
          <td>{{ item.comments | number }}</td>
          <td>{{ item.shares | number }}</td>
          <td>{{ item.saves }}</td>
          <td>{{ item.status }}</td>
          <td>{{ item.recontact }}</td>
          <td>
            <button (click)="edit(item); $event.stopPropagation()">âœï¸</button>
            <button (click)="remove(item); $event.stopPropagation()">ğŸ—‘ï¸</button>
          </td>
        </tr>
      </tbody>
    </table>
  </ng-container>
</div>

<!-- <app-add-koc (saved)="onSaved()" /> -->
<app-add-koc #addKoc></app-add-koc>
